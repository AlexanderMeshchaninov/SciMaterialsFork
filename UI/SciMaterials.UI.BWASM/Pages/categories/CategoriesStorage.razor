@page "/categories_storage"

<style>

    .header-search-divider {
        margin-top: 15px;
        margin-bottom: 15px;
    }
    
    .header-button-divider {
        margin-top: 15px;
        margin-bottom: 15px;
    }
    
    .mud-card-media {
        background-size: contain;
    }
    
</style>

<MudText Align="Align.Center" Typo="Typo.h3">Categories</MudText>
<MudText Align="Align.Start" Typo="Typo.h6">Manage Categories</MudText>

<div class="header-button-divider">
    <MudTooltip Text="Back">
        <MudFab Color="Color.Tertiary" DisableElevation="true" Size="Size.Medium" StartIcon="@Icons.Material.Filled.Refresh" OnClick="OnClickRefresh"/>
    </MudTooltip>
</div>

<div class="header-search-divider">
    <MudTextField T="string" ValueChanged="@OnSearchAsync" Placeholder="Search category" Adornment="Adornment.Start"
                  AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Small" Class="mt-0"></MudTextField>
</div>

<MudGrid Spacing="3" Justify="Justify.FlexStart" Class="pb-5">
    @foreach (var element in _Elements)
    {
        if (_Elements is null)
        {
            <MudItem xs="12" sm="6" md="4" lg="3" xl="2" Style="min-width: 250px;">
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="50px" Height="50px" />
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudDivider/>
                    <MudStack Row="true" Justify="Justify.SpaceAround" >
                        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="50px" Height="50px" />
                        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="50px" Height="50px" />
                        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="50px" Height="50px" />
                    </MudStack>
                    <MudCardActions>
                        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="50px" Height="50px" />
                    </MudCardActions>
                </MudCard>
            </MudItem>
        }
        else
        {
            <MudItem xs="12" sm="6" md="4" lg="3" xl="2" Style="min-width: 200px;" Class="row">
                <MudCard Class="col-lg-4; d-flex; align-items-stretch">
                    <MudCardMedia Image="@_Icon_CSharp" Height="200"/>

                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Align="Align.Center" Typo="Typo.h6" Color="Color.Info">@element.Name</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>

                    <MudDivider/>
                    <MudCardActions>
                        <MudButton Variant="Variant.Text"
                                   EndIcon="@Icons.Material.Filled.ArrowDownward"
                                   Color="Color.Tertiary"
                                   Style="text-transform:none"
                                   OnClick="() => OnClickCategory(element.Id)"
                                   FullWidth="true">
                            Learn More
                        </MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        }
    }
</MudGrid>


