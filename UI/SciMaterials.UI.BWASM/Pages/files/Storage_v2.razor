@page "/storagev2"
@using System.Net.Http.Json
@inject NavigationManager NavigationManager
@inject HttpClient httpClient

<MudGrid Spacing="@spacing" Justify="Justify.FlexStart">
    @foreach (var id in Ids)
    {
        <MudItem xs="3">
            <MudButton Class="rounded-xl px-1 py-1" Variant="Variant.Text" Color="Color.Primary" OnClick="()=>FileDetailsUrl(id)">
                <MudCard Class="rounded-xl">
                    <MudCardMedia Image="#" Height="200" Style="@($"background:#D0F2FF;")" />
                    <MudCardContent>
                        <MudText Typo="Typo.h5" Align="Align.Start">File #@id</MudText>
                        <MudChip Color="Color.Primary">Tag #1</MudChip>
                        <MudChip Color="Color.Secondary">Tag #2</MudChip>
                    </MudCardContent>
                </MudCard>
            </MudButton>
        </MudItem>
    }

</MudGrid>


@code {
    private IEnumerable<int> Ids;
    public int spacing { get; set; } = 4;

    protected override async Task OnInitializedAsync()
    {
    
        Ids = Enumerable.Range(1, 10);
    }

    private void FileDetailsUrl(int id)
    {
        NavigationManager.NavigateTo($"/filedetails/{id}");
    }
}