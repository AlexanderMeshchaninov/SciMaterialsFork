@page "/storage"
@using System.Net.Http.Json

@inject NavigationManager NavigationManager
@inject HttpClient httpClient

<MudText Class="mb-5" Typo="Typo.h3" Align="Align.Start">Files</MudText>

<FilesFilter/>

<MudGrid Spacing="@spacing" Justify="Justify.FlexStart">
    @foreach (var id in Ids)
    {
        <MudItem>
            <MudButton Class="rounded-lg px-1 py-1" Variant="Variant.Text" Color="Color.Primary" OnClick="() => ToFileDetailsUrl(id)">
                <MudPaper Height="100px" Width="150px">
                    @if (true)
                    {
                        <MudIcon Icon="@Icons.Material.Filled.FilePresent" Style="font-size: 4rem;"/>
                    }
                    else
                    {
                        <MudIcon Icon="@Icons.Material.Filled.Folder" Style="font-size: 4rem;"/>
                    }
                    <MudText Class="mx-1" Typo="Typo.subtitle1" Align="Align.Start">File name #@(id)</MudText>
                </MudPaper>
            </MudButton>
        </MudItem>
    }

</MudGrid>


@code {
    private IEnumerable<int> Ids;
    public int spacing { get; set; } = 2;
    private string filterValue { get; set; }
    private string sortValue { get; set; }
    protected override async Task OnInitializedAsync()
    {
    
        Ids = Enumerable.Range(1, 20);
    }

    private void ToFileDetailsUrl(int id)
    {
        NavigationManager.NavigateTo($"/filedetails/{id}");
    }
}