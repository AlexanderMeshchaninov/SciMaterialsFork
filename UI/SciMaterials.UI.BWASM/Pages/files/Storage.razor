@page "/storage"
@using System.Net.Http.Json
@inject NavigationManager NavigationManager
@inject HttpClient httpClient

<MudText Class="mb-5" Typo="Typo.h3" Align="Align.Start">Files</MudText>
<MudGrid Spacing="@spacing" Justify="Justify.FlexStart">
    <MudItem xs="12">
        <MudStack Justify="Justify.FlexEnd" Row="true">
            <MudSelect @bind-Value="filterValue" Label="Filter" AdornmentIcon="@Icons.Material.Filled.FilterList">
                <MudSelectItem Value="@("Filter #1")"/>
                <MudSelectItem Value="@("Filter #2")"/>
                <MudSelectItem Value="@("Filter #3")"/>
            </MudSelect>
            <MudText Typo="Typo.subtitle1" Align="Align.Start">Sort by:</MudText>
            <MudSelect @bind-Value="sortValue"  Dense="true" T="string" Variant="Variant.Text">
                <MudSelectItem Value="@("Sort #1")" />
                <MudSelectItem Value="@("Sort #2")" />
                <MudSelectItem Value="@("Sort #3")" />
            </MudSelect>
        </MudStack>
       
    </MudItem>
    
    @foreach (var id in Ids)
    {
        <MudItem xs="3">
            <MudButton Class="rounded-xl px-1 py-1" Variant="Variant.Text" Color="Color.Primary" OnClick="() => FileDetailsUrl(id)">
                <MudCard Class="rounded-xl mx-0">
                    <MudCardMedia Image="#" Height="200" Style="@($"background:#D0F2FF;")"/>
                    <MudCardContent>
                        <MudText Typo="Typo.h5" Align="Align.Start">File #@id</MudText>
                        <MudChip Color="Color.Primary">Tag #1</MudChip>
                        <MudChip Color="Color.Secondary">Tag #2</MudChip>
                    </MudCardContent>
                </MudCard>
            </MudButton>
        </MudItem>
    }

</MudGrid>


@code {
    private IEnumerable<int> Ids;
    public int spacing { get; set; } = 4;
    private string filterValue { get; set; }
    private string sortValue { get; set; }
    protected override async Task OnInitializedAsync()
    {
    
        Ids = Enumerable.Range(1, 10);
    }

    private void FileDetailsUrl(int id)
    {
        NavigationManager.NavigateTo($"/filedetails/{id}");
    }
}